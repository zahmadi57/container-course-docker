# ArgoCD Helm values — local kind cluster
# Chart: argo/argo-cd

# Disable Dex (external identity provider) — not needed for local dev
dex:
  enabled: false

# Server configuration
server:
  # Run in insecure mode (no TLS) so port-forward works cleanly
  extraArgs:
    - --insecure

  resources:
    requests:
      memory: "128Mi"
      cpu: "50m"
    limits:
      memory: "256Mi"
      cpu: "200m"

# Controller configuration
controller:
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# Repo server — clones repos and runs kustomize build
repoServer:
  resources:
    requests:
      memory: "128Mi"
      cpu: "50m"
    limits:
      memory: "256Mi"
      cpu: "200m"

# Redis — ArgoCD's internal cache
redis:
  resources:
    requests:
      memory: "64Mi"
      cpu: "25m"
    limits:
      memory: "128Mi"
      cpu: "100m"

# Lower the reconciliation interval to 30s for faster demos
# Default is 180s (3 minutes) — too slow for a lab
configs:
  params:
    timeout.reconciliation: "30s"
